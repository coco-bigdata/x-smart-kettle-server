(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37e4b2de"],{"0db6":function(e,t,r){var a={"./veri_1.png":"5879","./veri_2.png":"9a32","./veri_3.png":"d8d7"};function s(e){var t=i(e);return r(t)}function i(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id="0db6"},"4b4f":function(e,t,r){"use strict";r("8908")},8908:function(e,t,r){},e49c:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("Carousel",{attrs:{autoplay:e.setting.autoplay,"autoplay-speed":e.setting.autoplaySpeed,dots:e.setting.dots,"radius-dot":e.setting.radiusDot,trigger:e.setting.trigger,arrow:e.setting.arrow},model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}},[a("CarouselItem",[a("div",{staticClass:"demo-carousel"},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:r("c7a5"),alt:"轮播图"}})])]),a("CarouselItem",[a("div",{staticClass:"demo-carousel"},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:r("6063"),alt:"轮播图"}})])]),a("CarouselItem",[a("div",{staticClass:"demo-carousel"},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:r("93f3"),alt:"轮播图"}})])]),a("CarouselItem",[a("div",{staticClass:"demo-carousel"},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:r("cbf0"),alt:"轮播图"}})])])],1),a("div",{staticClass:"login-con"},[a("Card",{attrs:{icon:"log-in",title:"欢迎登录Smart Kettle调度监控平台",bordered:!1}},[a("div",{staticStyle:{"text-align":"center"}},[a("img",{staticStyle:{width:"50%",height:"50%"},attrs:{src:r("74fd")}})]),a("div",{staticClass:"form-con"},[a("login-form",{attrs:{loading:e.loading},on:{"on-success-valid":e.handleSubmit}}),a("p",{staticClass:"login-tip"},[e._v("输入用户名admin或superadmin,密码随便,即可登录")])],1)])],1),e._m(0)],1)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{position:"fixed","text-align":"center",bottom:"0",margin:"0 auto",width:"100%",color:"#5c6b77"}},[r("a",{staticStyle:{color:"#5c6b77"},attrs:{target:"_blank",href:"http://open.inspur.com/yuenbin/x-smart-kettle-front.git"}},[e._v("\n        © 2020-2021 规划、设计、开发、运维等版权归yuenbin所有")]),e._v(" "),r("br"),e._v("\n      博客地址： "),r("a",{staticStyle:{color:"#5c6b77"},attrs:{target:"_blank",href:"https://my.oschina.net/yaukie"}},[e._v("\n      https://my.oschina.net/yaukie")])])}],i=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit(t)}}},[a("FormItem",{attrs:{prop:"userName"}},[a("Input",{attrs:{size:"large",placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[a("Icon",{attrs:{size:24,type:"ios-person"}})],1)])],1),a("FormItem",{attrs:{prop:"password"}},[a("Input",{attrs:{size:"large",type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[a("Icon",{attrs:{size:24,type:"md-lock"}})],1)])],1),a("FormItem",{attrs:{prop:"verification"}},[a("Input",{attrs:{size:"large",placeholder:"验证码"},model:{value:e.form.verification,callback:function(t){e.$set(e.form,"verification",t)},expression:"form.verification"}}),a("img",{staticStyle:{width:"100px",display:"block","margin-top":"10px",cursor:"pointer"},attrs:{src:r("0db6")("./veri_"+e.verification_image+".png"),title:"换一张",border:"0"},on:{click:e.fleshVerify}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:e.loading,long:""},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1)},n=[],c=r("c24f"),l={name:"LoginForm",props:{userNameRules:{type:Array,default:function(){return[{required:!0,message:"账号不能为空",trigger:"blur"}]}},passwordRules:{type:Array,default:function(){return[{required:!0,message:"密码不能为空",trigger:"blur"}]}},verificationRules:{type:Array,default:function(){return[{required:!0,message:"验证码不能为空",trigger:"blur"}]}},loading:{type:Boolean,default:!1}},data:function(){return{verification_image:"",form:{userName:"admin",password:"1",verification:""}}},created:function(){this.fleshVerify()},computed:{rules:function(){return{userName:this.userNameRules,password:this.passwordRules,verification:this.verificationRules}}},methods:{fleshVerify:function(){var e=this,t=Math.random();Object(c["c"])({t:t}).then((function(t){var r=t.data.src;e.verification_image=r}))},handleSubmit:function(){var e=this,t={userName:this.form.userName,password:this.form.password,verification:this.form.verification};this.$refs.loginForm.validate((function(r){var a=e;r?a.$emit("on-success-valid",t):a.$Message({showClose:!0,message:"登录失败,失败原因:"+res.msg,type:"error"})}))}}},u=l,d=r("2877"),p=Object(d["a"])(u,o,n,!1,null,null,null),m=p.exports,f=m,g=r("5880");function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y={components:{LoginForm:f},data:function(){return{value3:0,loading:!1,setting:{autoplay:!0,autoplaySpeed:2e3,dots:"inside",radiusDot:!1,arrow:"never"}}},methods:v(v(v({},Object(g["mapGetters"])(["getToken"])),Object(g["mapActions"])(["handleLogin","getUserInfo"])),{},{handleSubmit:function(e){var t=this,r=e.userName,a=e.password,s=e.verification,i=this;i.loading=!0,i.handleLogin({userName:r,password:a,verification:s}).then((function(e){null!=i.getToken()&&t.$Message.success({closable:!0,content:"登录成功",type:"success"}),i.$router.push({name:i.$config.homeName}),i.loading=!1})).catch((function(e){i.loading=!1,i.$Message.error(e.message)}))}})},b=y,w=(r("4b4f"),Object(d["a"])(b,a,s,!1,null,null,null));t["default"]=w.exports}}]);